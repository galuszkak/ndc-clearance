{
  "openapi": "3.0.0",
  "info": {
    "title": "CUWS Passenger Processing API - Board",
    "description": "This API is used by an Airline to request authorisation for a given passenger to board a Flight.",
    "contact": {
      "name": "IATA Common-Use Web Services Team",
      "email": "b71e4344.iataonline.onmicrosoft.com@emea.teams.ms"
    },
    "version": "1.1"
  },
  "servers": [
    {
      "url": "/"
    }
  ],
  "tags": [
    {
      "name": "departure-management"
    },
    {
      "name": "passenger-operations"
    }
  ],
  "paths": {
    "/v1/departure-management/boarding/passengers/boarding-pass-raw": {
      "post": {
        "tags": [
          "departure-management",
          "passenger-operations"
        ],
        "summary": "Board the passenger on the airline's system(s) using the barcoded boarding pass string.",
        "parameters": [
          {
            "name": "X-Correlation-Id",
            "in": "header",
            "description": "This id is generated by the client.  It is returned as part of the response to help coordinate between multiple asynchronous responses.",
            "required": false,
            "style": "simple",
            "explode": false,
            "schema": {
              "$ref": "#/components/schemas/CorrelationId"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BoardingPassRaw"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "405": {
            "description": "Method not allowed",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              },
              "Allow": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "type": "string",
                  "description": "Returns the allowed methods for this resource",
                  "example": "GET,POST"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "406": {
            "description": "Not acceptable",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          }
        }
      }
    },
    "/v1/departure-management/boarding/passengers/boarding-pass": {
      "post": {
        "tags": [
          "departure-management",
          "passenger-operations"
        ],
        "summary": "Board the passenger on the airline's system(s) using the barcoded boarding pass.",
        "parameters": [
          {
            "name": "X-Correlation-Id",
            "in": "header",
            "description": "This id is generated by the client.  It is returned as part of the response to help coordinate between multiple asynchronous responses.",
            "required": false,
            "style": "simple",
            "explode": false,
            "schema": {
              "$ref": "#/components/schemas/CorrelationId"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BoardingPass"
              },
              "example": {
                "paxSegment": [
                  {
                    "checkInSeqNumber": 2,
                    "compartmentTypeCode": "Y",
                    "datedMarketingSegment": {
                      "carrier": {
                        "airlineDesigCode": "AC",
                        "datedOperatingSegment": [
                          {
                            "contributoryLeg": [
                              {
                                "transportDep": {
                                  "aircraftScheduledDateTime": "2021-08-11T12:25:00.000Z"
                                }
                              }
                            ],
                            "destStation": {
                              "iataLocationCode": "GVA"
                            },
                            "operatingCarrierFlightNumber": "885",
                            "originStation": {
                              "iataLocationCode": "YUL"
                            }
                          }
                        ]
                      },
                      "datedOperatingSegment": {
                        "contributoryLeg": [
                          {
                            "transportDep": {
                              "aircraftScheduledDateTime": "2021-08-11T14:15:00.000Z"
                            }
                          }
                        ],
                        "destStation": {
                          "iataLocationCode": "GVA"
                        },
                        "operatingCarrierFlightNumber": "885",
                        "originStation": {
                          "iataLocationCode": "YUL"
                        }
                      }
                    },
                    "pax": {
                      "booking": {
                        "bookingRefIdentifier": "ABC123"
                      }
                    },
                    "paxStatusCode": "1",
                    "seatAllocationExceptionCode": "GATE"
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "405": {
            "description": "Method not allowed",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              },
              "Allow": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "type": "string",
                  "description": "Returns the allowed methods for this resource",
                  "example": "GET,POST"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "406": {
            "description": "Not acceptable",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          }
        }
      }
    },
    "/v1/departure-management/boarding/passengers/{uid}": {
      "post": {
        "tags": [
          "departure-management",
          "passenger-operations"
        ],
        "summary": "Board the passenger on the airline's system(s) using the UID.",
        "description": "Airline systems use a unique identifier to refer to a passenger, and may offer the ability for external requests to identify a passenger using that identifier.",
        "parameters": [
          {
            "name": "X-Correlation-Id",
            "in": "header",
            "description": "This id is generated by the client.  It is returned as part of the response to help coordinate between multiple asynchronous responses.",
            "required": false,
            "style": "simple",
            "explode": false,
            "schema": {
              "$ref": "#/components/schemas/CorrelationId"
            }
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "style": "simple",
            "explode": false,
            "schema": {
              "type": "string",
              "example": "1234567890"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "405": {
            "description": "Method not allowed",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              },
              "Allow": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "type": "string",
                  "description": "Returns the allowed methods for this resource",
                  "example": "GET,POST"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "406": {
            "description": "Not acceptable",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "headers": {
              "X-Correlation-Id": {
                "style": "simple",
                "explode": false,
                "schema": {
                  "$ref": "#/components/schemas/CorrelationId"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Errors"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BoardingPassRaw": {
        "type": "object",
        "properties": {
          "boardingPassVersion": {
            "type": "string",
            "description": "IATA Resolution 792 BCBP Version Number field number 9",
            "example": "v8"
          },
          "content": {
            "type": "string",
            "example": "M1DOE/JOHN            EABC123 BOSJFKB6 0717 345P014C0010 147>3180 M6344BB6              29279          0 B6 B6 1234567890"
          }
        }
      },
      "CorrelationId": {
        "type": "string",
        "description": "Returns the X-Correlation-Id which was passed by the request.",
        "example": "0fac0f9d-a52e-4e07-b318-e8c292b4458e"
      },
      "Errors": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Error"
            }
          }
        }
      },
      "Error": {
        "required": [
          "status"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "A unique identifier for this specific instance of the error"
          },
          "status": {
            "type": "string",
            "description": "The HTTP status code applicable to the error"
          },
          "code": {
            "type": "string",
            "description": "an application-specific error code"
          },
          "title": {
            "type": "string",
            "description": "A short, human-readable summary of the problem that **SHOULD NOT** change from occurrence to occurrence of the error, except for purposes of localization"
          },
          "language": {
            "type": "string",
            "description": "The code of the language used in the error message. Not required when the language is a variant of English"
          },
          "detail": {
            "type": "string",
            "description": "a human-readable explanation specific to this occurrence of the issue"
          },
          "url": {
            "type": "string",
            "description": "A link to an on-line description of the error where one COULD find statements pertaining to the consequences of the error and indications as to actions that might be taken and actions that should or must not be taken"
          }
        }
      },
      "BoardingPass": {
        "title": "Boarding Pass",
        "type": "object",
        "properties": {
          "paxSegment": {
            "title": "Each Boarding Pass may have one or more Passenger Segments",
            "minItems": 0,
            "type": "array",
            "description": "Transportation of a passenger on a Dated Operating Segment.",
            "items": {
              "$ref": "#/components/schemas/PaxSegment"
            }
          }
        },
        "description": "Boarding pass is a type of accountable document which is used electronically or physically as proof of authorisation/authentication of right to board a flight."
      },
      "PaxSegment": {
        "title": "Passenger Segment",
        "type": "object",
        "properties": {
          "checkInSeqNumber": {
            "$ref": "#/components/schemas/NaturalNumber"
          },
          "compartmentTypeCode": {
            "$ref": "#/components/schemas/ClassOfServceTypeCode"
          },
          "datedMarketingSegment": {
            "$ref": "#/components/schemas/DatedMarketingSegment"
          },
          "pax": {
            "$ref": "#/components/schemas/Pax"
          },
          "paxStatusCode": {
            "$ref": "#/components/schemas/PaxStatusCode"
          },
          "seatAllocationExceptionCode": {
            "$ref": "#/components/schemas/SeatAllocationExceptionCode"
          }
        },
        "description": "Transportation of a passenger on a Dated Operating Segment."
      },
      "NaturalNumber": {
        "title": "Natural_ Number",
        "type": "integer",
        "description": "A mathematical number used for counting (positive whole number or integer)."
      },
      "ClassOfServceTypeCode": {
        "title": "Class Of Service Type Code",
        "type": "string",
        "description": "This is a single character token as defined in Resolution 728 CODE DESIGNATORS FOR PASSENGER TICKET"
      },
      "DatedMarketingSegment": {
        "title": "Dated Marketing Segment",
        "type": "object",
        "properties": {
          "carrier": {
            "$ref": "#/components/schemas/Carrier"
          },
          "datedOperatingSegment": {
            "$ref": "#/components/schemas/DatedOperatingSegment"
          }
        },
        "description": "The commercial designation under which a Dated Operating Segment can be booked, either under the operating carrier's designator or that of another carrier (codeshare)."
      },
      "Carrier": {
        "title": "Carrier",
        "type": "object",
        "properties": {
          "airlineDesigCode": {
            "$ref": "#/components/schemas/AirlineDesigCode"
          },
          "datedOperatingSegment": {
            "title": "Each Carrier may is operated by one or more Carriers",
            "minItems": 0,
            "type": "array",
            "description": "An operation between board point and any subsequent off point within the same flight designator. Could be one or more legs. Could also be used for other transport vehicles such as train or bus etc.",
            "items": {
              "$ref": "#/components/schemas/DatedOperatingSegment"
            }
          }
        },
        "description": "The organization which carries the passenger, baggage, or goods, and/or commits to delivering the carriage as well as any related services such as issuance of ticket, creation of Order, etc."
      },
      "AirlineDesigCode": {
        "title": "Airline Designator Code",
        "pattern": "^([A-Z]{3}|[A-Z]{2})|([0-9][A-Z])|([A-Z][0-9])$",
        "type": "string",
        "description": "The codelist contents of IATA Resolution 762 airline codes, or of ICAO airline codes."
      },
      "DatedOperatingSegment": {
        "title": "Dated Operating Segment",
        "type": "object",
        "properties": {
          "contributoryLeg": {
            "title": "Each Dated Operating Segment may be implemented by one or more Dated Operating Legs",
            "minItems": 0,
            "type": "array",
            "description": "The nonstop operation of a transport vehicle between the departure station and the arrival station. Can be used for aircrafts as well as other transport vehicles such as train or bus etc.",
            "items": {
              "$ref": "#/components/schemas/DatedOperatingLeg"
            }
          },
          "destStation": {
            "$ref": "#/components/schemas/Station"
          },
          "operatingCarrierFlightNumber": {
            "$ref": "#/components/schemas/FlightNumberText"
          },
          "originStation": {
            "$ref": "#/components/schemas/Station"
          }
        },
        "description": "An operation between board point and any subsequent off point within the same flight designator. Could be one or more legs. Could also be used for other transport vehicles such as train or bus etc."
      },
      "DatedOperatingLeg": {
        "title": "Dated Operating Leg",
        "type": "object",
        "properties": {
          "transportDep": {
            "$ref": "#/components/schemas/TransportDep"
          }
        },
        "description": "The nonstop operation of a transport vehicle between the departure station and the arrival station. Can be used for aircrafts as well as other transport vehicles such as train or bus etc."
      },
      "TransportDep": {
        "title": "Transport Departure",
        "type": "object",
        "properties": {
          "aircraftScheduledDateTime": {
            "$ref": "#/components/schemas/DateTime"
          }
        },
        "description": "The action or process of leaving of a transport vehicle from any place or location."
      },
      "DateTime": {
        "title": "Date Time",
        "type": "string",
        "description": "A date time identifies a date and time of day to various common resolutions: year, month, week, day, hour, minute, second, and fraction of second.",
        "format": "date-time"
      },
      "Station": {
        "title": "Station",
        "type": "object",
        "properties": {
          "iataLocationCode": {
            "$ref": "#/components/schemas/IataLocationCode"
          }
        },
        "description": "Location or facility where air or surface transportation originates, stops and/or terminates, and where passengers and/or cargo can be taken on or off."
      },
      "IataLocationCode": {
        "title": "IATA Location Code",
        "type": "string",
        "description": "Enumeration set for the Location Code BDT."
      },
      "FlightNumberText": {
        "title": "Flight Number_ Text",
        "type": "string",
        "description": "Identifies a flight number. 1 to 4 digits. May or may not have leading zeros when less than 4 digits. The use of leading zeros does not create a different Flight Number. For example, Flight Numbers 123 and 0123 are the same."
      },
      "Pax": {
        "title": "Passenger",
        "type": "object",
        "properties": {
          "booking": {
            "$ref": "#/components/schemas/Booking"
          }
        },
        "description": "A person except members of the crew carried or to be carried with the consent of the carrier, on board of any transport vehicle such as aircraft, train, bus, ship. Holds the attributes specific to a one booking, from shopping to fulfillment."
      },
      "Booking": {
        "title": "Booking",
        "type": "object",
        "properties": {
          "bookingRefIdentifier": {
            "$ref": "#/components/schemas/BookingRefIdentifier"
          }
        },
        "description": "A booking or reservation."
      },
      "BookingRefIdentifier": {
        "title": "Booking Reference_ Identifier",
        "type": "string",
        "description": "Booking reference Identifier, also called Record Locator (6 characters)."
      },
      "PaxStatusCode": {
        "title": "Passenger Status Code",
        "type": "string",
        "description": "This is defined by PSIB Passenger Status Information For Boarding code list. This specifies the different passenger statuses pre boarding."
      },
      "SeatAllocationExceptionCode": {
        "title": "Seat Allocation Exception Code",
        "type": "string",
        "description": "Lists the codes for exemption from seat allocation at issuance of boarding pass.Valid Values: GATE - Seat will be allocated at the gate only.; STBY - A seat will be allocated at the gate if there is a spare seat for this standby boarding pass.",
        "enum": [
          "GATE",
          "STBY"
        ]
      },
      "ClassOfServiceTypeCodeEnum": {
        "title": "Class Of Service Type Code",
        "type": "string",
        "description": "This is a single character token as defined in Resolution 728 CODE DESIGNATORS FOR PASSENGER TICKET"
      },
      "AirlineDesigCodeEnum": {
        "title": "Airline Designator Code",
        "pattern": "^([A-Z]{3}|[A-Z]{2})|([0-9][A-Z])|([A-Z][0-9])$",
        "type": "string",
        "description": "The codelist contents of IATA Resolution 762 airline codes, or of ICAO airline codes."
      },
      "IataLocationCodeEnum": {
        "title": "IATA Location Code",
        "type": "string",
        "description": "Enumeration set for the Location Code BDT."
      },
      "PaxStatusCodeEnum": {
        "title": "Passenger Status Code",
        "type": "string",
        "description": "This is defined by PSIB Passenger Status Information For Boarding code list. This specifies the different passenger statuses pre boarding."
      },
      "SeatAllocationExceptionCodeEnum": {
        "title": "Seat Allocation Exception Code",
        "type": "string",
        "description": "Lists the codes for exemption from seat allocation at issuance of boarding pass.Valid Values: GATE - Seat will be allocated at the gate only.; STBY - A seat will be allocated at the gate if there is a spare seat for this standby boarding pass.",
        "enum": [
          "GATE",
          "STBY"
        ]
      }
    }
  }
}